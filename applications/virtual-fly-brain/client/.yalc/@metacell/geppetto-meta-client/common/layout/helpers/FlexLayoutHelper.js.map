{"version":3,"file":"FlexLayoutHelper.js","names":["createTabSet","model","tabsetID","position","TabsetPosition","RIGHT","weight","rootNode","getNodeById","tabset","FlexLayout","TabSetNode","id","getChildren","forEach","node","_setWeight","_addChild","LEFT","BOTTOM","TOP","hrow","RowNode","child","newWeight","getWeight","_removeAll","moveWidget","widget","doAction","Actions","moveNode","panelName","DockLocation","CENTER","pos"],"sources":["../../../../src/common/layout/helpers/FlexLayoutHelper.ts"],"sourcesContent":["\nimport {TabsetPosition} from \"../model\";\n// @ts-ignore\nimport * as FlexLayout from '@metacell/geppetto-meta-ui/flex-layout/src/index';\n\n\n/**\n * Create a new tab set.\n *\n * @param model\n * @param {string} tabsetID the id of the tab set\n * @param position\n * @param weight\n * @private\n */\nexport function createTabSet(model, tabsetID, position = TabsetPosition.RIGHT, weight = 50) {\n    const rootNode = model.getNodeById(\"root\");\n\n    const tabset = new FlexLayout.TabSetNode(model, { id: tabsetID });\n\n    switch (position) {\n        case TabsetPosition.RIGHT:\n            rootNode.getChildren().forEach(node => node._setWeight(100 - weight));\n            rootNode._addChild(tabset);\n            break;\n        case TabsetPosition.LEFT:\n            rootNode.getChildren().forEach(node => node._setWeight(100 - weight));\n            rootNode._addChild(tabset, 0);\n            break;\n        case TabsetPosition.BOTTOM:\n        case TabsetPosition.TOP: {\n\n            tabset._setWeight(80);\n            let hrow = new FlexLayout.RowNode(model, {});\n            hrow._setWeight(100);\n\n            rootNode.getChildren().forEach(child => {\n                if (child['getWeight']) {\n                    const newWeight = (child as FlexLayout.TabSetNode).getWeight() / 2;\n                    child._setWeight(newWeight);\n                    hrow._addChild(child);\n                }\n            });\n            if (position === TabsetPosition.BOTTOM) {\n                hrow._addChild(tabset)\n            } else {\n                hrow._addChild(tabset, 0);\n            }\n\n            rootNode._removeAll();\n            rootNode._addChild(hrow, 0);\n        }\n    }\n}\n\nexport function moveWidget(model, widget) {\n    model.doAction(\n        FlexLayout.Actions.moveNode(\n            widget.id,\n            widget.panelName,\n            FlexLayout.DockLocation.CENTER,\n            widget.pos\n        )\n    );\n}"],"mappings":";;;;;;;;AACA;AAEA;AAA+E;AAAA;AAD/E;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,YAAY,CAACC,KAAK,EAAEC,QAAQ,EAAgD;EAAA,IAA9CC,QAAQ,uEAAGC,qBAAc,CAACC,KAAK;EAAA,IAAEC,MAAM,uEAAG,EAAE;EACtF,IAAMC,QAAQ,GAAGN,KAAK,CAACO,WAAW,CAAC,MAAM,CAAC;EAE1C,IAAMC,MAAM,GAAG,IAAIC,UAAU,CAACC,UAAU,CAACV,KAAK,EAAE;IAAEW,EAAE,EAAEV;EAAS,CAAC,CAAC;EAEjE,QAAQC,QAAQ;IACZ,KAAKC,qBAAc,CAACC,KAAK;MACrBE,QAAQ,CAACM,WAAW,EAAE,CAACC,OAAO,CAAC,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,UAAU,CAAC,GAAG,GAAGV,MAAM,CAAC;MAAA,EAAC;MACrEC,QAAQ,CAACU,SAAS,CAACR,MAAM,CAAC;MAC1B;IACJ,KAAKL,qBAAc,CAACc,IAAI;MACpBX,QAAQ,CAACM,WAAW,EAAE,CAACC,OAAO,CAAC,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,UAAU,CAAC,GAAG,GAAGV,MAAM,CAAC;MAAA,EAAC;MACrEC,QAAQ,CAACU,SAAS,CAACR,MAAM,EAAE,CAAC,CAAC;MAC7B;IACJ,KAAKL,qBAAc,CAACe,MAAM;IAC1B,KAAKf,qBAAc,CAACgB,GAAG;MAAE;QAErBX,MAAM,CAACO,UAAU,CAAC,EAAE,CAAC;QACrB,IAAIK,IAAI,GAAG,IAAIX,UAAU,CAACY,OAAO,CAACrB,KAAK,EAAE,CAAC,CAAC,CAAC;QAC5CoB,IAAI,CAACL,UAAU,CAAC,GAAG,CAAC;QAEpBT,QAAQ,CAACM,WAAW,EAAE,CAACC,OAAO,CAAC,UAAAS,KAAK,EAAI;UACpC,IAAIA,KAAK,CAAC,WAAW,CAAC,EAAE;YACpB,IAAMC,SAAS,GAAID,KAAK,CAA2BE,SAAS,EAAE,GAAG,CAAC;YAClEF,KAAK,CAACP,UAAU,CAACQ,SAAS,CAAC;YAC3BH,IAAI,CAACJ,SAAS,CAACM,KAAK,CAAC;UACzB;QACJ,CAAC,CAAC;QACF,IAAIpB,QAAQ,KAAKC,qBAAc,CAACe,MAAM,EAAE;UACpCE,IAAI,CAACJ,SAAS,CAACR,MAAM,CAAC;QAC1B,CAAC,MAAM;UACHY,IAAI,CAACJ,SAAS,CAACR,MAAM,EAAE,CAAC,CAAC;QAC7B;QAEAF,QAAQ,CAACmB,UAAU,EAAE;QACrBnB,QAAQ,CAACU,SAAS,CAACI,IAAI,EAAE,CAAC,CAAC;MAC/B;EAAC;AAET;AAEO,SAASM,UAAU,CAAC1B,KAAK,EAAE2B,MAAM,EAAE;EACtC3B,KAAK,CAAC4B,QAAQ,CACVnB,UAAU,CAACoB,OAAO,CAACC,QAAQ,CACvBH,MAAM,CAAChB,EAAE,EACTgB,MAAM,CAACI,SAAS,EAChBtB,UAAU,CAACuB,YAAY,CAACC,MAAM,EAC9BN,MAAM,CAACO,GAAG,CACb,CACJ;AACL"}