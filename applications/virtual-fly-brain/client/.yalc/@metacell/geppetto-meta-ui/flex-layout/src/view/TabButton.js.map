{"version":3,"file":"TabButton.js","names":["React","_interopRequireWildcard","require","_I18nLabel","_Actions","_interopRequireDefault","_Rect","_ICloseType","_Types","obj","__esModule","_getRequireWildcardCache","e","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","o","Symbol","iterator","constructor","prototype","TabButton","exports","props","layout","node","show","selected","iconFactory","titleFactory","icons","selfRef","useRef","contentRef","contentWidth","onMouseDown","event","getEditingTab","message","i18nName","I18nLabel","Move_Tab","getName","dragStart","isEnableDrag","onClick","onDoubleClick","doAction","Actions","selectTab","getId","isEnableRename","setEditingTab","getCurrentDocument","body","addEventListener","onEndEdit","target","current","removeEventListener","undefined","isClosable","closeType","getCloseType","ICloseType","Always","Visible","window","matchMedia","matches","onClose","deleteTab","onCloseMouseDown","stopPropagation","useLayoutEffect","updateRect","select","layoutRect","getDomRect","getBoundingClientRect","_setTabRect","Rect","left","top","width","height","onTextBoxMouseDown","onTextBoxKeyPress","keyCode","renameTab","value","cm","getClassName","parentNode","getParent","baseClassName","CLASSES","FLEXLAYOUT__TAB_BUTTON","classNames","getTabLocation","leadingContent","titleContent","name","isTitleObject","titleObj","getIcon","createElement","src","alt","buttons","renderState","leading","content","customizeTab","_setRenderedName","ref","className","FLEXLAYOUT__TAB_BUTTON_CONTENT","FLEXLAYOUT__TAB_BUTTON_LEADING","contentStyle","style","FLEXLAYOUT__TAB_BUTTON_TEXTBOX","type","autoFocus","defaultValue","onKeyDown","onTouchStart","isEnableClose","closeTitle","Close_Tab","push","key","title","FLEXLAYOUT__TAB_BUTTON_TRAILING","close","visibility"],"sources":["../../../../src/flex-layout/src/view/TabButton.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { I18nLabel } from \"../I18nLabel\";\nimport Actions from \"../model/Actions\";\nimport TabNode from \"../model/TabNode\";\nimport TabSetNode from \"../model/TabSetNode\";\nimport Rect from \"../Rect\";\nimport { IIcons, ILayoutCallbacks, ITitleObject } from \"./Layout\";\nimport { ICloseType } from \"../model/ICloseType\";\nimport { CLASSES } from \"../Types\";\n\n/** @hidden @internal */\nexport interface ITabButtonProps {\n    layout: ILayoutCallbacks;\n    node: TabNode;\n    show: boolean;\n    selected: boolean;\n    height: number;\n    iconFactory?: (node: TabNode) => React.ReactNode | undefined;\n    titleFactory?: (node: TabNode) => React.ReactNode | undefined;\n    icons?: IIcons;\n}\n\n/** @hidden @internal */\nexport const TabButton = (props: ITabButtonProps) => {\n    const { layout, node, show, selected, iconFactory, titleFactory, icons } = props;\n    const selfRef = React.useRef<HTMLDivElement | null>(null);\n    const contentRef = React.useRef<HTMLInputElement | null>(null);\n    const contentWidth = React.useRef<number>(0);\n\n    const onMouseDown = (event: React.MouseEvent<HTMLDivElement, MouseEvent> | React.TouchEvent<HTMLDivElement>) => {\n        if (!layout.getEditingTab()) {\n            const message = layout.i18nName(I18nLabel.Move_Tab, node.getName());\n            layout.dragStart(event, message, node, node.isEnableDrag(), onClick, onDoubleClick);\n        }\n    };\n\n    const onClick = () => {\n        layout.doAction(Actions.selectTab(node.getId()));\n    };\n\n    const onDoubleClick = (event: Event) => {\n        if (node.isEnableRename()) {\n            layout.setEditingTab(node);\n            layout.getCurrentDocument()!.body.addEventListener(\"mousedown\", onEndEdit);\n            layout.getCurrentDocument()!.body.addEventListener(\"touchstart\", onEndEdit);\n        } \n        // else {\n        //     const parentNode = node.getParent() as TabSetNode;\n        //     if (parentNode.canMaximize()) {\n        //         layout.maximize(parentNode);\n        //     }\n        // }\n    };\n\n    const onEndEdit = (event: Event) => {\n        if (event.target !== contentRef.current!) {\n            layout.getCurrentDocument()!.body.removeEventListener(\"mousedown\", onEndEdit);\n            layout.getCurrentDocument()!.body.removeEventListener(\"touchstart\", onEndEdit);\n            layout.setEditingTab(undefined);\n        }\n    };\n\n    const isClosable = () => {\n        const closeType = node.getCloseType();\n        if (selected || closeType === ICloseType.Always) {\n            return true;\n        }\n        if (closeType === ICloseType.Visible) {\n            // not selected but x should be visible due to hover\n            if (window.matchMedia && window.matchMedia(\"(hover: hover) and (pointer: fine)\").matches) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    const onClose = (event: React.MouseEvent<HTMLDivElement>) => {\n        if (isClosable()) {\n            layout.doAction(Actions.deleteTab(node.getId()));\n        } else {\n            onClick();\n        }\n    };\n\n    const onCloseMouseDown = (event: React.MouseEvent<HTMLDivElement> | React.TouchEvent<HTMLDivElement>) => {\n        event.stopPropagation();\n    };\n\n    React.useLayoutEffect(() => {\n        updateRect();\n        if (layout.getEditingTab() === node) {\n            (contentRef.current! as HTMLInputElement).select();\n        }\n    });\n\n    const updateRect = () => {\n        // record position of tab in node\n        const layoutRect = layout.getDomRect();\n        const r = selfRef.current!.getBoundingClientRect();\n        node._setTabRect(new Rect(r.left - layoutRect.left, r.top - layoutRect.top, r.width, r.height));\n        contentWidth.current = contentRef.current!.getBoundingClientRect().width;\n    };\n\n    const onTextBoxMouseDown = (event: React.MouseEvent<HTMLInputElement> | React.TouchEvent<HTMLInputElement>) => {\n        // console.log(\"onTextBoxMouseDown\");\n        event.stopPropagation();\n    };\n\n    const onTextBoxKeyPress = (event: React.KeyboardEvent<HTMLInputElement>) => {\n        // console.log(event, event.keyCode);\n        if (event.keyCode === 27) {\n            // esc\n            layout.setEditingTab(undefined);\n        } else if (event.keyCode === 13) {\n            // enter\n            layout.setEditingTab(undefined);\n            layout.doAction(Actions.renameTab(node.getId(), (event.target as HTMLInputElement).value));\n        }\n    };\n\n    const cm = layout.getClassName;\n    const parentNode = node.getParent() as TabSetNode;\n\n    let baseClassName = CLASSES.FLEXLAYOUT__TAB_BUTTON;\n    let classNames = cm(baseClassName);\n    classNames += \" \" + cm(baseClassName + \"_\" + parentNode.getTabLocation());\n\n    if (selected) {\n        classNames += \" \" + cm(baseClassName + \"--selected\");\n    } else {\n        classNames += \" \" + cm(baseClassName + \"--unselected\");\n    }\n\n    if (node.getClassName() !== undefined) {\n        classNames += \" \" + node.getClassName();\n    }\n\n    let leadingContent = iconFactory ? iconFactory(node) : undefined;\n    let titleContent: React.ReactNode = node.getName();\n    let name = node.getName();\n\n    function isTitleObject(obj: any): obj is ITitleObject {\n        return obj.titleContent !== undefined \n      }\n\n    if (titleFactory !== undefined) {\n        const titleObj = titleFactory(node);\n        if (titleObj !== undefined) {\n            if (typeof titleObj === \"string\") {\n                titleContent = titleObj as string;\n                name = titleObj as string;\n            } else if (isTitleObject(titleObj)) {\n                titleContent = titleObj.titleContent;\n                name = titleObj.name;\n            } else {\n                titleContent = titleObj;\n            }\n        }\n    }\n\n    if (typeof leadingContent === undefined && typeof node.getIcon() !== undefined) {\n        leadingContent = <img src={node.getIcon()} alt=\"leadingContent\" />;\n    }\n\n    let buttons: any[] = [];\n\n    // allow customization of leading contents (icon) and contents\n    const renderState = { leading: leadingContent, content: titleContent, name, buttons };\n    layout.customizeTab(node, renderState);\n    buttons = renderState.buttons;\n\n    node._setRenderedName(renderState.name);\n\n    let content = (\n        <div ref={contentRef} className={cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_CONTENT)}>\n            {renderState.content}\n        </div>\n    );\n    const leading = <div className={cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_LEADING)}>{renderState.leading}</div>;\n\n    if (layout.getEditingTab() === node) {\n        const contentStyle = { width: contentWidth + \"px\" };\n        content = (\n            <input\n                style={contentStyle}\n                ref={contentRef}\n                className={cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_TEXTBOX)}\n                type=\"text\"\n                autoFocus={true}\n                defaultValue={node.getName()}\n                onKeyDown={onTextBoxKeyPress}\n                onMouseDown={onTextBoxMouseDown}\n                onTouchStart={onTextBoxMouseDown}\n            />\n        );\n    }\n\n    if (node.isEnableClose()) {\n        const closeTitle = layout.i18nName(I18nLabel.Close_Tab);\n        buttons.push(\n            <div key=\"close\" title={closeTitle} className={cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_TRAILING)} onMouseDown={onCloseMouseDown} onClick={onClose} onTouchStart={onCloseMouseDown}>\n                {icons?.close}\n            </div>\n        );\n    }\n\n    return (\n        <div\n            ref={selfRef}\n            style={{\n                visibility: show ? \"visible\" : \"hidden\",\n            }}\n            className={classNames}\n            onMouseDown={onMouseDown}\n            onTouchStart={onMouseDown}\n        >\n            {leading}\n            {content}\n            {buttons}\n        </div>\n    );\n};\n"],"mappings":"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","ignoreList":[]}