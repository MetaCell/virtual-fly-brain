{"version":3,"file":"Utils.js","names":["_TabSetNode","_interopRequireDefault","require","_BorderNode","obj","__esModule","adjustSelectedIndexAfterFloat","node","parent","getParent","TabSetNode","found","newSelected","children","getChildren","i","length","child","isFloating","_setSelected","BorderNode","adjustSelectedIndexAfterDock","adjustSelectedIndex","removedIndex","undefined","getType","TYPE","selectedIndex","getSelected"],"sources":["../../../../src/flex-layout/src/model/Utils.ts"],"sourcesContent":["import TabSetNode from \"./TabSetNode\";\nimport BorderNode from \"./BorderNode\";\nimport RowNode from \"./RowNode\";\nimport TabNode from \"./TabNode\";\n\n/** @hidden @internal */\nexport function adjustSelectedIndexAfterFloat(node: TabNode) {\n    const parent = node.getParent();\n    if (parent !== null) {\n        if (parent instanceof TabSetNode) {\n            let found = false;\n            let newSelected = 0;\n            const children = parent.getChildren();\n            for (let i = 0; i < children.length; i++) {\n                const child = children[i] as TabNode;\n                if (child === node) {\n                    found = true;\n                } else {\n                    if (!child.isFloating()) {\n                        newSelected = i;\n                        if (found) break;\n                    }\n                }\n            }\n            parent._setSelected(newSelected);\n        } else if (parent instanceof BorderNode) {\n            parent._setSelected(-1);\n        }\n    }\n}\n\n/** @hidden @internal */\nexport function adjustSelectedIndexAfterDock(node: TabNode) {\n    const parent = node.getParent();\n    if (parent !== null && (parent instanceof TabSetNode || parent instanceof BorderNode)) {\n        const children = parent.getChildren();\n        for (let i = 0; i < children.length; i++) {\n            const child = children[i] as TabNode;\n            if (child === node) {\n                parent._setSelected(i);\n                return;\n            }\n        }\n    }\n}\n\n/** @hidden @internal */\nexport function adjustSelectedIndex(parent: TabSetNode | BorderNode | RowNode, removedIndex: number) {\n    // for the tabset/border being removed from set the selected index\n    if (parent !== undefined && (parent.getType() === TabSetNode.TYPE || parent.getType() === BorderNode.TYPE)) {\n        const selectedIndex = (parent as TabSetNode | BorderNode).getSelected();\n        if (selectedIndex !== -1) {\n            if (removedIndex === selectedIndex && parent.getChildren().length > 0) {\n                if (removedIndex >= parent.getChildren().length) {\n                    // removed last tab; select new last tab\n                    parent._setSelected(parent.getChildren().length - 1);\n                } else {\n                    // leave selected index as is, selecting next tab after this one\n                }\n            } else if (removedIndex < selectedIndex) {\n                parent._setSelected(selectedIndex - 1);\n            } else if (removedIndex > selectedIndex) {\n                // leave selected index as is\n            } else {\n                parent._setSelected(-1);\n            }\n        }\n    }\n}\n"],"mappings":"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","ignoreList":[]}