{"version":3,"file":"ArrayElementInstance.js","names":["Instance","require","ArrayElementInstance","options","index","children","concat","getChildren","c","length","ModelFactory","deleteInstance","parent","getParent","parentPath","parentId","undefined","getInstancePath","getId","path","replace","getVariable","getType","getDefaultValue","elements","getIndex","position","types","getTypes","module","exports"],"sources":["../../src/model/ArrayElementInstance.js"],"sourcesContent":["import ModelFactory from '../ModelFactory';\nconst Instance = require('./Instance').default;\n\n/**\n * Client class use to represent an array element instance.\n *\n * @module model/ArrayElementInstance\n * @author Giovanni Idili\n */\nclass ArrayElementInstance extends Instance {\n  \n  constructor (options) {\n    super(options);\n    this.index = options.index;\n  }\n\n\n  getIndex () {\n    return this.index;\n  }\n\n  delete () {\n    var children = [].concat(this.getChildren());\n    for (var c = 0; c < children.length; c++) {\n      children[c].delete();\n    }\n\n    ModelFactory.deleteInstance(this);\n  }\n\n\n  getInstancePath () {\n    var parent = this.getParent();\n    var parentPath = \"\";\n    var parentId = \"\";\n\n    if (parent != null && parent != undefined) {\n      parentPath = parent.getInstancePath();\n      parentId = parent.getId();\n    }\n\n    var path = parentPath.replace(parentId, this.getId());\n\n    return (parentPath != \"\") ? path : this.getId();\n  }\n\n  getPosition () {\n\n    if ((this.getVariable().getType().getDefaultValue().elements != undefined)\n            && (this.getVariable().getType().getDefaultValue().elements[this.getIndex()] != undefined)) {\n      return this.getVariable().getType().getDefaultValue().elements[this.getIndex()].position;\n    }\n\n  }\n\n  getTypes () {\n    return [this.getVariable().getType().getType()];\n  }\n\n  getType () {\n    var types = this.getTypes();\n    if (types.length == 1) {\n      return types[0];\n    } else {\n      return types;\n    }\n  }\n\n}\n\nArrayElementInstance.default = ArrayElementInstance;\nmodule.exports = ArrayElementInstance;\n"],"mappings":";;;AAAA;AAA2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3C,IAAMA,QAAQ,GAAGC,OAAO,CAAC,YAAY,CAAC,WAAQ;;AAE9C;AACA;AACA;AACA;AACA;AACA;AALA,IAMMC,oBAAoB;EAAA;EAAA;EAExB,8BAAaC,OAAO,EAAE;IAAA;IAAA;IACpB,0BAAMA,OAAO;IACb,MAAKC,KAAK,GAAGD,OAAO,CAACC,KAAK;IAAC;EAC7B;EAAC;IAAA;IAAA,OAGD,oBAAY;MACV,OAAO,IAAI,CAACA,KAAK;IACnB;EAAC;IAAA;IAAA,OAED,mBAAU;MACR,IAAIC,QAAQ,GAAG,EAAE,CAACC,MAAM,CAAC,IAAI,CAACC,WAAW,EAAE,CAAC;MAC5C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,QAAQ,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;QACxCH,QAAQ,CAACG,CAAC,CAAC,UAAO,EAAE;MACtB;MAEAE,wBAAY,CAACC,cAAc,CAAC,IAAI,CAAC;IACnC;EAAC;IAAA;IAAA,OAGD,2BAAmB;MACjB,IAAIC,MAAM,GAAG,IAAI,CAACC,SAAS,EAAE;MAC7B,IAAIC,UAAU,GAAG,EAAE;MACnB,IAAIC,QAAQ,GAAG,EAAE;MAEjB,IAAIH,MAAM,IAAI,IAAI,IAAIA,MAAM,IAAII,SAAS,EAAE;QACzCF,UAAU,GAAGF,MAAM,CAACK,eAAe,EAAE;QACrCF,QAAQ,GAAGH,MAAM,CAACM,KAAK,EAAE;MAC3B;MAEA,IAAIC,IAAI,GAAGL,UAAU,CAACM,OAAO,CAACL,QAAQ,EAAE,IAAI,CAACG,KAAK,EAAE,CAAC;MAErD,OAAQJ,UAAU,IAAI,EAAE,GAAIK,IAAI,GAAG,IAAI,CAACD,KAAK,EAAE;IACjD;EAAC;IAAA;IAAA,OAED,uBAAe;MAEb,IAAK,IAAI,CAACG,WAAW,EAAE,CAACC,OAAO,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ,IAAIR,SAAS,IAC7D,IAAI,CAACK,WAAW,EAAE,CAACC,OAAO,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACC,QAAQ,EAAE,CAAC,IAAIT,SAAU,EAAE;QAClG,OAAO,IAAI,CAACK,WAAW,EAAE,CAACC,OAAO,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACC,QAAQ,EAAE,CAAC,CAACC,QAAQ;MAC1F;IAEF;EAAC;IAAA;IAAA,OAED,oBAAY;MACV,OAAO,CAAC,IAAI,CAACL,WAAW,EAAE,CAACC,OAAO,EAAE,CAACA,OAAO,EAAE,CAAC;IACjD;EAAC;IAAA;IAAA,OAED,mBAAW;MACT,IAAIK,KAAK,GAAG,IAAI,CAACC,QAAQ,EAAE;MAC3B,IAAID,KAAK,CAAClB,MAAM,IAAI,CAAC,EAAE;QACrB,OAAOkB,KAAK,CAAC,CAAC,CAAC;MACjB,CAAC,MAAM;QACL,OAAOA,KAAK;MACd;IACF;EAAC;EAAA;AAAA,EAzDgC3B,QAAQ;AA6D3CE,oBAAoB,WAAQ,GAAGA,oBAAoB;AACnD2B,MAAM,CAACC,OAAO,GAAG5B,oBAAoB"}