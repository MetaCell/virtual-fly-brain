{"version":3,"file":"Query.js","names":["ObjectWrapper","require","Query","options","prototype","constructor","call","matchingCriteria","undefined","Object","create","getLabel","wrappedObj","label","getDescription","description","getResultType","resultType","getMatchingCriteria","matchesCriteria","type","match","i","length","criteriaMatch","j","typeOf","module","exports"],"sources":["../../src/model/Query.js"],"sourcesContent":["\n\n/**\n * Client class use to represent a simple type.\n *\n * @module model/Query\n * @author Giovanni Idili\n * @author Matteo Cantarelli\n */\n\nvar ObjectWrapper = require('./ObjectWrapper').default;\n\nfunction Query (options) {\n  ObjectWrapper.prototype.constructor.call(this, options);\n  this.matchingCriteria = (options.matchingCriteria != undefined) ? options.matchingCriteria : [];\n}\n\nQuery.prototype = Object.create(ObjectWrapper.prototype);\nQuery.prototype.constructor = Query;\n\n/**\n * Gets the default value for this query\n *\n * @command Query.getDefaultValue()\n *\n * @returns {Object} - Default value\n *\n */\nQuery.prototype.getLabel = function () {\n  return this.wrappedObj.label;\n};\n\n/**\n * Gets the super type for this query\n *\n * @command Query.getDescription()\n *\n * @returns {List<Type>} - Super type\n *\n */\nQuery.prototype.getDescription = function () {\n  return this.wrappedObj.description;\n};\n\n/**\n * Gets the result type for this query\n *\n * @command Query.getResultType()\n *\n * @returns {Object} - Result type\n *\n */\nQuery.prototype.getResultType = function () {\n  return this.wrappedObj.resultType;\n};\n\n/**\n * Gets matching criteria (types) for this query\n *\n * @returns {Array}\n */\nQuery.prototype.getMatchingCriteria = function () {\n  return this.matchingCriteria;\n};\n\n/**\n * Checks if query matches given criteria (type)\n *\n * @param type\n * @returns {boolean}\n */\nQuery.prototype.matchesCriteria = function (type) {\n  var match = false;\n\n  // loop criteria\n  for (var i = 0; i < this.matchingCriteria.length; i++){\n\n    var criteriaMatch = false;\n    for (var j = 0; j < this.matchingCriteria[i].length; j++){\n      // all types must match to satisfy a criteria\n      criteriaMatch = this.matchingCriteria[i][j].typeOf(type);\n\n      if (!criteriaMatch){\n        // if one element of the criteria doesn't match skip out\n        break;\n      }\n    }\n\n    // satisfying one criteria is enough - if it matches skip out\n    if (criteriaMatch){\n      match = true;\n      break;\n    }\n  }\n\n  return match;\n};\n\n// Compatibility with new imports and old require syntax\nQuery.default = Query;\nmodule.exports = Query;\n"],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,aAAa,GAAGC,OAAO,CAAC,iBAAiB,CAAC,WAAQ;AAEtD,SAASC,KAAK,CAAEC,OAAO,EAAE;EACvBH,aAAa,CAACI,SAAS,CAACC,WAAW,CAACC,IAAI,CAAC,IAAI,EAAEH,OAAO,CAAC;EACvD,IAAI,CAACI,gBAAgB,GAAIJ,OAAO,CAACI,gBAAgB,IAAIC,SAAS,GAAIL,OAAO,CAACI,gBAAgB,GAAG,EAAE;AACjG;AAEAL,KAAK,CAACE,SAAS,GAAGK,MAAM,CAACC,MAAM,CAACV,aAAa,CAACI,SAAS,CAAC;AACxDF,KAAK,CAACE,SAAS,CAACC,WAAW,GAAGH,KAAK;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,KAAK,CAACE,SAAS,CAACO,QAAQ,GAAG,YAAY;EACrC,OAAO,IAAI,CAACC,UAAU,CAACC,KAAK;AAC9B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAX,KAAK,CAACE,SAAS,CAACU,cAAc,GAAG,YAAY;EAC3C,OAAO,IAAI,CAACF,UAAU,CAACG,WAAW;AACpC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAb,KAAK,CAACE,SAAS,CAACY,aAAa,GAAG,YAAY;EAC1C,OAAO,IAAI,CAACJ,UAAU,CAACK,UAAU;AACnC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACAf,KAAK,CAACE,SAAS,CAACc,mBAAmB,GAAG,YAAY;EAChD,OAAO,IAAI,CAACX,gBAAgB;AAC9B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACAL,KAAK,CAACE,SAAS,CAACe,eAAe,GAAG,UAAUC,IAAI,EAAE;EAChD,IAAIC,KAAK,GAAG,KAAK;;EAEjB;EACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACf,gBAAgB,CAACgB,MAAM,EAAED,CAAC,EAAE,EAAC;IAEpD,IAAIE,aAAa,GAAG,KAAK;IACzB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAClB,gBAAgB,CAACe,CAAC,CAAC,CAACC,MAAM,EAAEE,CAAC,EAAE,EAAC;MACvD;MACAD,aAAa,GAAG,IAAI,CAACjB,gBAAgB,CAACe,CAAC,CAAC,CAACG,CAAC,CAAC,CAACC,MAAM,CAACN,IAAI,CAAC;MAExD,IAAI,CAACI,aAAa,EAAC;QACjB;QACA;MACF;IACF;;IAEA;IACA,IAAIA,aAAa,EAAC;MAChBH,KAAK,GAAG,IAAI;MACZ;IACF;EACF;EAEA,OAAOA,KAAK;AACd,CAAC;;AAED;AACAnB,KAAK,WAAQ,GAAGA,KAAK;AACrByB,MAAM,CAACC,OAAO,GAAG1B,KAAK"}