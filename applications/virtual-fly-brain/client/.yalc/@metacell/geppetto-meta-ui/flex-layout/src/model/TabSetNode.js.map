{"version":3,"file":"TabSetNode.js","names":["_Attribute","_interopRequireDefault","require","_AttributeDefinitions","_DockLocation","_DropInfo","_Orientation","_Rect","_Node2","_RowNode","_TabNode","_Utils","_TabSetNode","obj","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","_callSuper","t","e","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","apply","self","call","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","_defineProperty","_toPrimitive","r","toPrimitive","String","Number","TabSetNode","_Node","model","json","_this","_attributeDefinitions","fromJson","_attributes","_addNode","calculatedTabBarHeight","calculatedHeaderBarHeight","getName","_getAttr","getSelected","selected","undefined","getSelectedNode","_children","getWeight","getWidth","getMinWidth","getHeight","getMinHeight","getMinSize","orientation","Orientation","HORZ","getConfig","config","isMaximized","_model","getMaximizedTabset","isActive","getActiveTabset","isEnableDeleteWhenEmpty","isEnableDrop","isEnableDrag","isEnableDivide","isEnableMaximize","canMaximize","getModel","getParent","getRoot","getChildren","isEnableTabStrip","isAutoSelectTab","getClassNameTabStrip","getClassNameHeader","calculateHeaderBarHeight","metrics","headerBarHeight","headerBarSize","calculateTabBarHeight","tabBarHeight","tabBarSize","getHeaderHeight","getTabStripHeight","getTabLocation","_setWeight","weight","_setSelected","index","canDrop","dragNode","x","y","dropInfo","dockLocation","DockLocation","CENTER","outlineRect","_tabHeaderRect","_sideBorders","_getAttribute","width","window","innerWidth","DropInfo","_contentRect","contains","getLocation","getDockRect","_rect","child","getTabRect","yy","h","height","childCenter","Rect","getRight","_canDockInto","_layout","rect","_this2","getRect","removeInsets","showHeader","forEach","_setVisible","_remove","node","removedIndex","_removeChild","_tidy","adjustSelectedIndex","drop","location","select","_this3","dragParent","fromIndex","getType","TabNode","TYPE","insertPos","_addChild","_setActiveTabset","tabSet","callback","_getOnCreateTabSet","parentRow","_parent","pos","indexOf","getOrientation","_orientation","_indexPlus","newRow","RowNode","_toJson","toJson","children","map","active","maximized","_updateAttrs","update","_getAttributeDefinitions","_getPrefSize","prefSize","VERT","_fromJson","newLayoutNode","jsonChild","_setMaximizedTabset","_createAttributeDefinitions","attributeDefinitions","AttributeDefinitions","add","setType","Attribute","STRING","setFixed","NUMBER","addInherited","BOOLEAN","getAttributeDefinitions","Node","_default","exports"],"sources":["../../../../src/flex-layout/src/model/TabSetNode.ts"],"sourcesContent":["import Attribute from \"../Attribute\";\nimport AttributeDefinitions from \"../AttributeDefinitions\";\nimport DockLocation from \"../DockLocation\";\nimport DropInfo from \"../DropInfo\";\nimport Orientation from \"../Orientation\";\nimport Rect from \"../Rect\";\nimport BorderNode from \"./BorderNode\";\nimport IDraggable from \"./IDraggable\";\nimport IDropTarget from \"./IDropTarget\";\nimport Model, { ILayoutMetrics } from \"./Model\";\nimport Node from \"./Node\";\nimport RowNode from \"./RowNode\";\nimport TabNode from \"./TabNode\";\nimport { adjustSelectedIndex } from \"./Utils\";\n\nclass TabSetNode extends Node implements IDraggable, IDropTarget {\n    static readonly TYPE = \"tabset\";\n\n    /** @hidden @internal */\n    static _fromJson(json: any, model: Model) {\n        const newLayoutNode = new TabSetNode(model, json);\n\n        if (json.children != null) {\n            json.children.forEach((jsonChild: any) => {\n                const child = TabNode._fromJson(jsonChild, model);\n                newLayoutNode._addChild(child);\n            });\n        }\n\n        if (json.maximized && json.maximized === true) {\n            model._setMaximizedTabset(newLayoutNode);\n        }\n\n        if (json.active && json.active === true) {\n            model._setActiveTabset(newLayoutNode);\n        }\n\n        return newLayoutNode;\n    }\n    /** @hidden @internal */\n    private static _attributeDefinitions: AttributeDefinitions = TabSetNode._createAttributeDefinitions();\n\n    /** @hidden @internal */\n    private static _createAttributeDefinitions(): AttributeDefinitions {\n        const attributeDefinitions = new AttributeDefinitions();\n        attributeDefinitions.add(\"type\", TabSetNode.TYPE, true).setType(Attribute.STRING).setFixed();\n        attributeDefinitions.add(\"id\", undefined).setType(Attribute.STRING);\n\n        attributeDefinitions.add(\"weight\", 100).setType(Attribute.NUMBER);\n        attributeDefinitions.add(\"width\", undefined).setType(Attribute.NUMBER);\n        attributeDefinitions.add(\"height\", undefined).setType(Attribute.NUMBER);\n        attributeDefinitions.add(\"selected\", 0).setType(Attribute.NUMBER);\n        attributeDefinitions.add(\"name\", undefined).setType(Attribute.STRING);\n        attributeDefinitions.add(\"config\", undefined).setType(\"any\");\n\n        attributeDefinitions.addInherited(\"enableDeleteWhenEmpty\", \"tabSetEnableDeleteWhenEmpty\");\n        attributeDefinitions.addInherited(\"enableDrop\", \"tabSetEnableDrop\");\n        attributeDefinitions.addInherited(\"enableDrag\", \"tabSetEnableDrag\");\n        attributeDefinitions.addInherited(\"enableDivide\", \"tabSetEnableDivide\");\n        attributeDefinitions.addInherited(\"enableMaximize\", \"tabSetEnableMaximize\");\n        attributeDefinitions.addInherited(\"classNameTabStrip\", \"tabSetClassNameTabStrip\");\n        attributeDefinitions.addInherited(\"classNameHeader\", \"tabSetClassNameHeader\");\n        attributeDefinitions.addInherited(\"enableTabStrip\", \"tabSetEnableTabStrip\");\n        attributeDefinitions.addInherited(\"borderInsets\", \"tabSetBorderInsets\");\n        attributeDefinitions.addInherited(\"marginInsets\", \"tabSetMarginInsets\");\n        attributeDefinitions.addInherited(\"minWidth\", \"tabSetMinWidth\");\n        attributeDefinitions.addInherited(\"minHeight\", \"tabSetMinHeight\");\n\n        attributeDefinitions.addInherited(\"headerHeight\", \"tabSetHeaderHeight\");\n        attributeDefinitions.addInherited(\"tabStripHeight\", \"tabSetTabStripHeight\");\n        attributeDefinitions.addInherited(\"tabLocation\", \"tabSetTabLocation\");\n        attributeDefinitions.addInherited(\"autoSelectTab\", \"tabSetAutoSelectTab\").setType(Attribute.BOOLEAN);\n        return attributeDefinitions;\n    }\n\n    /** @hidden @internal */\n    private _contentRect?: Rect;\n    /** @hidden @internal */\n    private _tabHeaderRect?: Rect;\n    /** @hidden @internal */\n    private calculatedTabBarHeight: number;\n    /** @hidden @internal */\n    private calculatedHeaderBarHeight: number;\n\n    /** @hidden @internal */\n    constructor(model: Model, json: any) {\n        super(model);\n\n        TabSetNode._attributeDefinitions.fromJson(json, this._attributes);\n        model._addNode(this);\n        this.calculatedTabBarHeight = 0;\n        this.calculatedHeaderBarHeight = 0;\n    }\n\n    getName() {\n        return this._getAttr(\"name\") as string | undefined;\n    }\n\n    getSelected() {\n        const selected = this._attributes.selected;\n        if (selected !== undefined) {\n            return selected as number;\n        }\n        return -1;\n    }\n\n    getSelectedNode() {\n        const selected = this.getSelected();\n        if (selected !== -1) {\n            return this._children[selected];\n        }\n        return undefined;\n    }\n\n    getWeight(): number {\n        return this._getAttr(\"weight\") as number;\n    }\n\n    getWidth() {\n        return this._getAttr(\"width\") as number | undefined;\n    }\n\n    getMinWidth() {\n        return this._getAttr(\"minWidth\") as number;\n    }\n\n    getHeight() {\n        return this._getAttr(\"height\") as number | undefined;\n    }\n\n    getMinHeight() {\n        return this._getAttr(\"minHeight\") as number;\n    }\n\n    /** @hidden @internal */\n    getMinSize(orientation: Orientation) {\n        if (orientation === Orientation.HORZ) {\n            return this.getMinWidth();\n        } else {\n            return this.getMinHeight();\n        }\n    }\n\n    /**\n     * Returns the config attribute that can be used to store node specific data that\n     * WILL be saved to the json. The config attribute should be changed via the action Actions.updateNodeAttributes rather\n     * than directly, for example:\n     * this.state.model.doAction(\n     *   FlexLayout.Actions.updateNodeAttributes(node.getId(), {config:myConfigObject}));\n     */\n    getConfig() {\n        return this._attributes.config;\n    }\n\n    isMaximized() {\n        return this._model.getMaximizedTabset() === this;\n    }\n\n    isActive() {\n        return this._model.getActiveTabset() === this;\n    }\n\n    isEnableDeleteWhenEmpty() {\n        return this._getAttr(\"enableDeleteWhenEmpty\") as boolean;\n    }\n\n    isEnableDrop() {\n        return this._getAttr(\"enableDrop\") as boolean;\n    }\n\n    isEnableDrag() {\n        return this._getAttr(\"enableDrag\") as boolean;\n    }\n\n    isEnableDivide() {\n        return this._getAttr(\"enableDivide\") as boolean;\n    }\n\n    isEnableMaximize() {\n        return this._getAttr(\"enableMaximize\") as boolean;\n    }\n\n    canMaximize() {\n        if (this.isEnableMaximize()) {\n            // always allow maximize toggle if already maximized\n            if (this.getModel().getMaximizedTabset() === this) {\n                return true;\n            }\n            // only one tabset, so disable\n            if (this.getParent() === this.getModel().getRoot() && this.getModel().getRoot().getChildren().length === 1) {\n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n\n    isEnableTabStrip() {\n        return this._getAttr(\"enableTabStrip\") as boolean;\n    }\n\n    isAutoSelectTab() {\n        return this._getAttr(\"autoSelectTab\") as boolean;\n    }\n\n    getClassNameTabStrip() {\n        return this._getAttr(\"classNameTabStrip\") as string | undefined;\n    }\n\n    getClassNameHeader() {\n        return this._getAttr(\"classNameHeader\") as string | undefined;\n    }\n\n    /** @hidden @internal */\n    calculateHeaderBarHeight(metrics: ILayoutMetrics) {\n        const headerBarHeight = this._getAttr(\"headerHeight\") as number;\n        if (headerBarHeight !== 0) {\n            // its defined\n            this.calculatedHeaderBarHeight = headerBarHeight;\n        } else {\n            this.calculatedHeaderBarHeight = metrics.headerBarSize;\n        }\n    }\n\n    /** @hidden @internal */\n    calculateTabBarHeight(metrics: ILayoutMetrics) {\n        const tabBarHeight = this._getAttr(\"tabStripHeight\") as number;\n        if (tabBarHeight !== 0) {\n            // its defined\n            this.calculatedTabBarHeight = tabBarHeight;\n        } else {\n            this.calculatedTabBarHeight = metrics.tabBarSize;\n        }\n    }\n\n    getHeaderHeight() {\n        return this.calculatedHeaderBarHeight;\n    }\n\n    getTabStripHeight() {\n        return this.calculatedTabBarHeight;\n    }\n\n    getTabLocation() {\n        return this._getAttr(\"tabLocation\") as string;\n    }\n\n    /** @hidden @internal */\n    _setWeight(weight: number) {\n        this._attributes.weight = weight;\n    }\n\n    /** @hidden @internal */\n    _setSelected(index: number) {\n        this._attributes.selected = index;\n    }\n\n    /** @hidden @internal */\n    canDrop(dragNode: Node & IDraggable, x: number, y: number): DropInfo | undefined {\n        let dropInfo;\n\n        if (dragNode === this) {\n            const dockLocation = DockLocation.CENTER;\n            const outlineRect = this._tabHeaderRect;\n            let _sideBorders = this._model!._getAttribute('sideBorders');\n            if(_sideBorders > 0 && (outlineRect!.width + outlineRect!.x) >= window.innerWidth) {\n                outlineRect!.width = outlineRect!.width - (_sideBorders * 2);\n            }\n            dropInfo = new DropInfo(this, outlineRect!, dockLocation, -1, \"flexlayout__outline_rect\");\n        } else if (this._contentRect!.contains(x, y)) {\n            const dockLocation = DockLocation.getLocation(this._contentRect!, x, y);\n            const outlineRect = dockLocation.getDockRect(this._rect);\n            let _sideBorders = this._model!._getAttribute('sideBorders');\n            if(_sideBorders > 0 && (outlineRect.width + outlineRect.x) >= window.innerWidth) {\n                outlineRect.width = outlineRect.width - (_sideBorders * 2);\n            }\n            dropInfo = new DropInfo(this, outlineRect, dockLocation, -1, \"flexlayout__outline_rect\");\n        } else if (this._children.length > 0 && this._tabHeaderRect != null && this._tabHeaderRect.contains(x, y)) {\n            let child = this._children[0] as TabNode;\n            let r = child.getTabRect()!;\n            const yy = r.y;\n            const h = r.height;\n            let p = this._tabHeaderRect.x;\n            let childCenter = 0;\n            for (let i = 0; i < this._children.length; i++) {\n                child = this._children[i] as TabNode;\n                r = child.getTabRect()!;\n                childCenter = r.x + r.width / 2;\n                if (x >= p && x < childCenter) {\n                    const dockLocation = DockLocation.CENTER;\n                    const outlineRect = new Rect(r.x - 2, yy, 3, h);\n                    let _sideBorders = this._model!._getAttribute('sideBorders');\n                    if(_sideBorders > 0 && (outlineRect.width + outlineRect.x) >= window.innerWidth) {\n                        outlineRect.width = outlineRect.width - (_sideBorders * 2);\n                    }\n                    dropInfo = new DropInfo(this, outlineRect, dockLocation, i, \"flexlayout__outline_rect\");\n                    break;\n                }\n                p = childCenter;\n            }\n            if (dropInfo == null) {\n                const dockLocation = DockLocation.CENTER;\n                const outlineRect = new Rect(r.getRight() - 2, yy, 3, h);\n                let _sideBorders = this._model!._getAttribute('sideBorders');\n                if(_sideBorders > 0 && (outlineRect.width + outlineRect.x) >= window.innerWidth) {\n                    outlineRect.width = outlineRect.width - (_sideBorders * 2);\n                }\n                dropInfo = new DropInfo(this, outlineRect, dockLocation, this._children.length, \"flexlayout__outline_rect\");\n            }\n        }\n\n        if (!dragNode._canDockInto(dragNode, dropInfo)) {\n            return undefined;\n        }\n\n        return dropInfo;\n    }\n\n    /** @hidden @internal */\n    _layout(rect: Rect, metrics: ILayoutMetrics) {\n        this.calculateHeaderBarHeight(metrics);\n        this.calculateTabBarHeight(metrics);\n\n        if (this.isMaximized()) {\n            rect = (this._model.getRoot() as Node).getRect();\n        }\n\n        rect = rect.removeInsets(this._getAttr(\"marginInsets\"));\n        this._rect = rect;\n        rect = rect.removeInsets(this._getAttr(\"borderInsets\"));\n\n        const showHeader = this.getName() !== undefined;\n        let y = 0;\n        let h = 0;\n        if (showHeader) {\n            y += this.calculatedHeaderBarHeight;\n            h += this.calculatedHeaderBarHeight;\n        }\n        if (this.isEnableTabStrip()) {\n            if (this.getTabLocation() === \"top\") {\n                this._tabHeaderRect = new Rect(rect.x, rect.y + y, rect.width, this.calculatedTabBarHeight);\n            } else {\n                this._tabHeaderRect = new Rect(rect.x, rect.y + rect.height - this.calculatedTabBarHeight, rect.width, this.calculatedTabBarHeight);\n            }\n            h += this.calculatedTabBarHeight;\n            if (this.getTabLocation() === \"top\") {\n                y += this.calculatedTabBarHeight;\n            }\n        }\n        this._contentRect = new Rect(rect.x, rect.y + y, rect.width, rect.height - h);\n\n        this._children.forEach((child, i) => {\n            child._layout(this._contentRect!, metrics);\n            child._setVisible(i === this.getSelected());\n        });\n    }\n\n    /** @hidden @internal */\n    _remove(node: TabNode) {\n        const removedIndex = this._removeChild(node);\n        this._model._tidy();\n\n        adjustSelectedIndex(this, removedIndex);\n    }\n\n    /** @hidden @internal */\n    drop(dragNode: Node & IDraggable, location: DockLocation, index: number, select?: boolean) {\n        const dockLocation = location;\n\n        if (this === dragNode) {\n            // tabset drop into itself\n            return; // dock back to itself\n        }\n\n        let dragParent = dragNode.getParent() as BorderNode | TabSetNode | RowNode;\n        let fromIndex = 0;\n        if (dragParent !== undefined) {\n            fromIndex = dragParent._removeChild(dragNode);\n            adjustSelectedIndex(dragParent, fromIndex);\n        }\n\n        // if dropping a tab back to same tabset and moving to forward position then reduce insertion index\n        if (dragNode.getType() === TabNode.TYPE && dragParent === this && fromIndex < index && index > 0) {\n            index--;\n        }\n\n        // simple_bundled dock to existing tabset\n        if (dockLocation === DockLocation.CENTER) {\n            let insertPos = index;\n            if (insertPos === -1) {\n                insertPos = this._children.length;\n            }\n\n            if (dragNode.getType() === TabNode.TYPE) {\n                this._addChild(dragNode, insertPos);\n                if (select || (select !== false && this.isAutoSelectTab())) {\n                    this._setSelected(insertPos);\n                }\n                // console.log(\"added child at : \" + insertPos);\n            } else {\n                dragNode.getChildren().forEach((child, i) => {\n                    this._addChild(child, insertPos);\n                    // console.log(\"added child at : \" + insertPos);\n                    insertPos++;\n                });\n            }\n            this._model._setActiveTabset(this);\n        } else {\n            let tabSet: TabSetNode | undefined;\n            if (dragNode instanceof TabNode) {\n                // create new tabset parent\n                // console.log(\"create a new tabset\");\n                const callback = this._model._getOnCreateTabSet();\n                tabSet = new TabSetNode(this._model, callback ? callback(dragNode as TabNode) : {});\n                tabSet._addChild(dragNode);\n                // console.log(\"added child at end\");\n                dragParent = tabSet;\n            } else {\n                tabSet = dragNode as TabSetNode;\n            }\n\n            const parentRow = this._parent as Node;\n            const pos = parentRow.getChildren().indexOf(this);\n\n            if (parentRow.getOrientation() === dockLocation._orientation) {\n                tabSet._setWeight(this.getWeight() / 2);\n                this._setWeight(this.getWeight() / 2);\n                // console.log(\"added child 50% size at: \" +  pos + dockLocation.indexPlus);\n                parentRow._addChild(tabSet, pos + dockLocation._indexPlus);\n            } else {\n                // create a new row to host the new tabset (it will go in the opposite direction)\n                // console.log(\"create a new row\");\n                const newRow = new RowNode(this._model, {});\n                newRow._setWeight(this.getWeight());\n                newRow._addChild(this);\n                this._setWeight(50);\n                tabSet._setWeight(50);\n                // console.log(\"added child 50% size at: \" +  dockLocation.indexPlus);\n                newRow._addChild(tabSet, dockLocation._indexPlus);\n\n                parentRow._removeChild(this);\n                parentRow._addChild(newRow, pos);\n            }\n            this._model._setActiveTabset(tabSet);\n        }\n        this._model._tidy();\n    }\n\n    /** @hidden @internal */\n    _toJson(): any {\n        const json: any = {};\n        TabSetNode._attributeDefinitions.toJson(json, this._attributes);\n        json.children = this._children.map((child) => child._toJson());\n\n        if (this.isActive()) {\n            json.active = true;\n        }\n\n        if (this.isMaximized()) {\n            json.maximized = true;\n        }\n\n        return json;\n    }\n\n    /** @hidden @internal */\n    _updateAttrs(json: any) {\n        TabSetNode._attributeDefinitions.update(json, this._attributes);\n    }\n\n    /** @hidden @internal */\n    _getAttributeDefinitions() {\n        return TabSetNode._attributeDefinitions;\n    }\n\n    /** @hidden @internal */\n    _getPrefSize(orientation: Orientation) {\n        let prefSize = this.getWidth();\n        if (orientation === Orientation.VERT) {\n            prefSize = this.getHeight();\n        }\n        return prefSize;\n    }\n\n\n    /** @hidden @internal */\n    static getAttributeDefinitions() {\n        return TabSetNode._attributeDefinitions;\n    }\n\n}\n\nexport default TabSetNode;\n"],"mappings":"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","ignoreList":[]}