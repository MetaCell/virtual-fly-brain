{"version":3,"file":"AParticlesCapability.js","names":["capabilityId","watched","timeSeries","getTimeSeries","undefined","initialValues","getVariable","getWrappedObj","i","length","value","eClass","setTimeSeries","getInitialValue","isWatched","setWatched","updateServer"],"sources":["../../src/capabilities/AParticlesCapability.js"],"sourcesContent":["\n\n/**\n * Client class use to augment a model with particles capabilities\n *\n * @module model/AParticlesCapability\n * @author Matteo Cantarelli\n */\n\nexport default {\n  capabilityId: 'ParticlesCapability',\n  watched: false,\n  timeSeries: null,\n\n  /**\n   * Get value of quantity\n   *\n   * @command Variable.getTimeSeries()\n   * @returns {String} Value of quantity\n   */\n  getTimeSeries: function () {\n    if (!this.timeSeries) {\n      var timeSeries = undefined;\n      var initialValues = this.getVariable().getWrappedObj().initialValues;\n\n      for (var i = 0; i < initialValues.length; i++) {\n        if (initialValues[i].value.eClass === 'TimeSeries') {\n          timeSeries = initialValues[i].value.value\n        }\n      }\n      return timeSeries;\n    }\n    return this.timeSeries;\n  },\n\n\n  /**\n   * Set the time series for the state variable\n   *\n   * @command Variable.setTimeSeries()\n   * @returns {Object} The state variable\n   */\n  setTimeSeries: function (timeSeries) {\n    this.timeSeries = timeSeries;\n    return this;\n  },\n\n  /**\n   * Get the initial value for the state variable\n   *\n   * @command Variable.getInitialValue()\n   * @returns {Object} The initial value of the state variable\n   */\n  getInitialValue: function () {\n\n    return this.getVariable().getWrappedObj().initialValues;\n  },\n\n\n  /**\n   * Get watched\n   *\n   * @command Variable.getWatched()\n   * @returns {boolean} true if this variable is being watched\n   */\n  isWatched: function () {\n    // NOTE: this.watched is a flag added by this API / Capability\n    return this.watched;\n  },\n\n  /**\n   * Set watched\n   *\n   * @command Variable.setWatched()\n   * @param {Boolean} watched - Object with options attributes to initialize node\n   */\n  setWatched: function (isWatched, updateServer) {\n    if (updateServer == undefined) {\n      updateServer = true;\n    }\n    this.watched = isWatched;\n    return this;\n  }\n}\n\n"],"mappings":";;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AALA,eAOe;EACbA,YAAY,EAAE,qBAAqB;EACnCC,OAAO,EAAE,KAAK;EACdC,UAAU,EAAE,IAAI;EAEhB;AACF;AACA;AACA;AACA;AACA;EACEC,aAAa,EAAE,yBAAY;IACzB,IAAI,CAAC,IAAI,CAACD,UAAU,EAAE;MACpB,IAAIA,UAAU,GAAGE,SAAS;MAC1B,IAAIC,aAAa,GAAG,IAAI,CAACC,WAAW,EAAE,CAACC,aAAa,EAAE,CAACF,aAAa;MAEpE,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,aAAa,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;QAC7C,IAAIH,aAAa,CAACG,CAAC,CAAC,CAACE,KAAK,CAACC,MAAM,KAAK,YAAY,EAAE;UAClDT,UAAU,GAAGG,aAAa,CAACG,CAAC,CAAC,CAACE,KAAK,CAACA,KAAK;QAC3C;MACF;MACA,OAAOR,UAAU;IACnB;IACA,OAAO,IAAI,CAACA,UAAU;EACxB,CAAC;EAGD;AACF;AACA;AACA;AACA;AACA;EACEU,aAAa,EAAE,uBAAUV,UAAU,EAAE;IACnC,IAAI,CAACA,UAAU,GAAGA,UAAU;IAC5B,OAAO,IAAI;EACb,CAAC;EAED;AACF;AACA;AACA;AACA;AACA;EACEW,eAAe,EAAE,2BAAY;IAE3B,OAAO,IAAI,CAACP,WAAW,EAAE,CAACC,aAAa,EAAE,CAACF,aAAa;EACzD,CAAC;EAGD;AACF;AACA;AACA;AACA;AACA;EACES,SAAS,EAAE,qBAAY;IACrB;IACA,OAAO,IAAI,CAACb,OAAO;EACrB,CAAC;EAED;AACF;AACA;AACA;AACA;AACA;EACEc,UAAU,EAAE,oBAAUD,SAAS,EAAEE,YAAY,EAAE;IAC7C,IAAIA,YAAY,IAAIZ,SAAS,EAAE;MAC7BY,YAAY,GAAG,IAAI;IACrB;IACA,IAAI,CAACf,OAAO,GAAGa,SAAS;IACxB,OAAO,IAAI;EACb;AACF,CAAC;AAAA"}