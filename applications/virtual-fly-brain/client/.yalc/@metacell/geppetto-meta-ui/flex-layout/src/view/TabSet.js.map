{"version":3,"file":"TabSet.js","names":["React","_interopRequireWildcard","require","_I18nLabel","_Actions","_interopRequireDefault","_PopupMenu","_TabButton","_TabOverflowHook","_Orientation","_Types","obj","__esModule","_getRequireWildcardCache","e","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","prototype","toString","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","arr2","TabSet","exports","props","node","layout","iconFactory","titleFactory","icons","toolbarRef","useRef","overflowbuttonRef","tabbarInnerRef","stickyButtonsRef","_useTabOverflow","useTabOverflow","Orientation","HORZ","selfRef","position","userControlledLeft","hiddenTabs","onMouseWheel","tabsTruncated","onOverflowClick","element","current","showPopup","getRootDiv","onOverflowItemSelect","getClassName","item","doAction","Actions","selectTab","getId","onMouseDown","event","getName","undefined","setActiveTabset","getEditingTab","message","i18nName","I18nLabel","Move_Tabset","dragStart","isEnableDrag","event2","onDoubleClick","onInterceptMouseDown","stopPropagation","onMaximizeToggle","canMaximize","maximize","onFloatTab","selectedTabNode","floatTab","cm","scrollLeft","getSelectedNode","style","_styleWithPosition","getModel","getMaximizedTabset","isMaximized","display","tabs","isEnableTabStrip","getChildren","child","isSelected","getSelected","push","createElement","TabButton","key","selected","show","height","getTabStripHeight","showHeader","stickyButtons","buttons","headerButtons","renderState","headerContent","customizeTabSet","concat","ref","onTouchStart","onDragStart","preventDefault","className","CLASSES","FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER","toolbar","overflowTitle","Overflow_Menu_Tooltip","FLEXLAYOUT__TAB_BUTTON_OVERFLOW","title","onClick","more","isSupportsPopout","isEnableFloat","isFloating","floatTitle","Float_Tab","FLEXLAYOUT__TAB_TOOLBAR_BUTTON","FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT","popout","minTitle","Restore","maxTitle","Maximize","btns","FLEXLAYOUT__TAB_TOOLBAR_BUTTON_","restore","FLEXLAYOUT__TAB_TOOLBAR","header","tabStrip","tabStripClasses","FLEXLAYOUT__TABSET_TABBAR_OUTER","getClassNameTabStrip","FLEXLAYOUT__TABSET_TABBAR_OUTER_","getTabLocation","isActive","FLEXLAYOUT__TABSET_SELECTED","FLEXLAYOUT__TABSET_MAXIMIZED","headerToolbar","tabHeaderClasses","FLEXLAYOUT__TABSET_HEADER","getClassNameHeader","getHeaderHeight","FLEXLAYOUT__TABSET_HEADER_CONTENT","tabStripStyle","top","FLEXLAYOUT__TABSET_TABBAR_INNER","FLEXLAYOUT__TABSET_TABBAR_INNER_","left","FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER","FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_","styleFont","FLEXLAYOUT__TABSET","onWheel"],"sources":["../../../../src/flex-layout/src/view/TabSet.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { I18nLabel } from \"../I18nLabel\";\nimport Actions from \"../model/Actions\";\nimport TabNode from \"../model/TabNode\";\nimport TabSetNode from \"../model/TabSetNode\";\nimport { showPopup } from \"../PopupMenu\";\nimport { IIcons, ILayoutCallbacks } from \"./Layout\";\nimport { TabButton } from \"./TabButton\";\nimport { useTabOverflow } from \"./TabOverflowHook\";\nimport Orientation from \"../Orientation\";\nimport { CLASSES } from \"../Types\";\n\n/** @hidden @internal */\nexport interface ITabSetProps {\n    layout: ILayoutCallbacks;\n    node: TabSetNode;\n    iconFactory?: (node: TabNode) => React.ReactNode | undefined;\n    titleFactory?: (node: TabNode) => React.ReactNode | undefined;\n    icons?: IIcons;\n    editingTab?: TabNode; \n}\n\n/** @hidden @internal */\nexport const TabSet = (props: ITabSetProps) => {\n    const { node, layout, iconFactory, titleFactory, icons } = props;\n\n    const toolbarRef = React.useRef<HTMLDivElement | null>(null);\n    const overflowbuttonRef = React.useRef<HTMLButtonElement | null>(null);\n    const tabbarInnerRef = React.useRef<HTMLDivElement | null>(null);\n    const stickyButtonsRef = React.useRef<HTMLDivElement | null>(null);\n\n    const { selfRef, position, userControlledLeft, hiddenTabs, onMouseWheel, tabsTruncated } = useTabOverflow(node, Orientation.HORZ, toolbarRef, stickyButtonsRef);\n\n    const onOverflowClick = () => {\n        const element = overflowbuttonRef.current!;\n        showPopup(layout.getRootDiv(), element, hiddenTabs, onOverflowItemSelect, layout.getClassName);\n    };\n\n    const onOverflowItemSelect = (item: { node: TabNode; index: number }) => {\n        layout.doAction(Actions.selectTab(item.node.getId()));\n        userControlledLeft.current = false;\n    };\n\n    const onMouseDown = (event: React.MouseEvent<HTMLDivElement, MouseEvent> | React.TouchEvent<HTMLDivElement>) => {\n        let name = node.getName();\n        if (name === undefined) {\n            name = \"\";\n        } else {\n            name = \": \" + name;\n        }\n        layout.doAction(Actions.setActiveTabset(node.getId()));\n        if (!layout.getEditingTab()) {\n            const message = layout.i18nName(I18nLabel.Move_Tabset, name);\n            layout.dragStart(event, message, node, node.isEnableDrag(), (event2: Event) => undefined, onDoubleClick);\n        }\n    };\n\n    const onInterceptMouseDown = (event: React.MouseEvent | React.TouchEvent) => {\n        event.stopPropagation();\n    };\n\n    const onMaximizeToggle = () => {\n        if (node.canMaximize()) {\n            layout.maximize(node);\n        }\n    };\n\n    const onFloatTab = () => {\n        if (selectedTabNode !== undefined) {\n            layout.doAction(Actions.floatTab(selectedTabNode.getId()));\n        }\n    };\n\n    const onDoubleClick = (event: Event) => {\n        if (node.canMaximize()) {\n            layout.maximize(node);\n        }\n    };\n\n    // Start Render\n    const cm = layout.getClassName;\n\n    // tabbar inner can get shifted left via tab rename, this resets scrollleft to 0\n    if (tabbarInnerRef.current !== null && tabbarInnerRef.current!.scrollLeft !== 0) {\n        tabbarInnerRef.current.scrollLeft = 0;\n    }\n\n    const selectedTabNode: TabNode = node.getSelectedNode() as TabNode;\n    let style = node._styleWithPosition();\n\n    if (node.getModel().getMaximizedTabset() !== undefined && !node.isMaximized()) {\n        style.display = \"none\";\n    }\n\n    const tabs = [];\n    if (node.isEnableTabStrip()) {\n        for (let i = 0; i < node.getChildren().length; i++) {\n            const child = node.getChildren()[i] as TabNode;\n            let isSelected = node.getSelected() === i;\n            tabs.push(\n                <TabButton\n                    layout={layout}\n                    node={child}\n                    key={child.getId()}\n                    selected={isSelected}\n                    show={true}\n                    height={node.getTabStripHeight()}\n                    iconFactory={iconFactory}\n                    titleFactory={titleFactory}\n                    icons={icons}\n                />\n            );\n        }\n    }\n\n    const showHeader = node.getName() !== undefined;\n    let stickyButtons: React.ReactNode[] = [];\n    let buttons: React.ReactNode[] = [];\n    let headerButtons: React.ReactNode[] = [];\n\n    // allow customization of header contents and buttons\n    const renderState = { headerContent: node.getName(), stickyButtons, buttons, headerButtons };\n    layout.customizeTabSet(node, renderState);\n    const headerContent = renderState.headerContent;\n    stickyButtons = renderState.stickyButtons;\n    buttons = renderState.buttons;\n    headerButtons = renderState.headerButtons;\n\n    if (stickyButtons.length > 0) {\n        if (tabsTruncated) {\n            buttons = [...stickyButtons, ...buttons];\n        } else {\n            tabs.push(<div\n                ref={stickyButtonsRef}\n                key=\"sticky_buttons_container\"\n                onMouseDown={onInterceptMouseDown}\n                onTouchStart={onInterceptMouseDown}\n                onDragStart={(e) => { e.preventDefault() }}\n                className={cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)}\n            >\n                {stickyButtons}\n            </div>);\n        }\n    }\n\n    let toolbar;\n    if (hiddenTabs.length > 0) {\n        const overflowTitle = layout.i18nName(I18nLabel.Overflow_Menu_Tooltip);\n        buttons.push(\n            <button\n                key=\"overflowbutton\"\n                ref={overflowbuttonRef}\n                className={cm(CLASSES.FLEXLAYOUT__TAB_BUTTON_OVERFLOW)}\n                title={overflowTitle}\n                onClick={onOverflowClick}\n                onMouseDown={onInterceptMouseDown}\n                onTouchStart={onInterceptMouseDown}\n            >\n                {icons?.more}\n                {hiddenTabs.length}\n            </button>\n        );\n    }\n\n    if (selectedTabNode !== undefined && layout.isSupportsPopout() && selectedTabNode.isEnableFloat() && !selectedTabNode.isFloating()) {\n        const floatTitle = layout.i18nName(I18nLabel.Float_Tab);\n        buttons.push(\n            <button\n                key=\"float\"\n                title={floatTitle}\n                className={cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT)}\n                onClick={onFloatTab}\n                onMouseDown={onInterceptMouseDown}\n                onTouchStart={onInterceptMouseDown}\n            >\n                {icons?.popout}\n            </button>\n        );\n    }\n    if (node.canMaximize()) {\n        const minTitle = layout.i18nName(I18nLabel.Restore);\n        const maxTitle = layout.i18nName(I18nLabel.Maximize);\n        const btns = showHeader ? headerButtons : buttons;\n        btns.push(\n            <button\n                key=\"max\"\n                title={node.isMaximized() ? minTitle : maxTitle}\n                className={cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON) + \" \" + cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_ + (node.isMaximized() ? \"max\" : \"min\"))}\n                onClick={onMaximizeToggle}\n                onMouseDown={onInterceptMouseDown}\n                onTouchStart={onInterceptMouseDown}\n            >\n                {node.isMaximized() ? icons?.restore : icons?.maximize}\n            </button>\n        );\n    }\n\n    toolbar = (\n        <div key=\"toolbar\" ref={toolbarRef}\n            className={cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR)}\n            onMouseDown={onInterceptMouseDown}\n            onTouchStart={onInterceptMouseDown}\n            onDragStart={(e) => { e.preventDefault() }}\n        >\n            {buttons}\n        </div>\n    );\n\n    let header;\n    let tabStrip;\n\n    let tabStripClasses = cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER);\n    if (node.getClassNameTabStrip() !== undefined) {\n        tabStripClasses += \" \" + node.getClassNameTabStrip();\n    }\n    tabStripClasses += \" \" + CLASSES.FLEXLAYOUT__TABSET_TABBAR_OUTER_ + node.getTabLocation();\n\n    if (node.isActive() && !showHeader) {\n        tabStripClasses += \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_SELECTED);\n    }\n\n    if (node.isMaximized() && !showHeader) {\n        tabStripClasses += \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED);\n    }\n\n    if (showHeader) {\n\n        const headerToolbar = (\n            <div key=\"toolbar\" ref={toolbarRef}\n                className={cm(CLASSES.FLEXLAYOUT__TAB_TOOLBAR)}\n                onMouseDown={onInterceptMouseDown}\n                onTouchStart={onInterceptMouseDown}\n                onDragStart={(e) => { e.preventDefault() }}\n            >\n                {headerButtons}\n            </div>\n        );\n\n        let tabHeaderClasses = cm(CLASSES.FLEXLAYOUT__TABSET_HEADER);\n        if (node.isActive()) {\n            tabHeaderClasses += \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_SELECTED);\n        }\n        if (node.isMaximized()) {\n            tabHeaderClasses += \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_MAXIMIZED);\n        }\n        if (node.getClassNameHeader() !== undefined) {\n            tabHeaderClasses += \" \" + node.getClassNameHeader();\n        }\n\n        header = (\n            <div className={tabHeaderClasses} style={{ height: node.getHeaderHeight() + \"px\" }} onMouseDown={onMouseDown} onTouchStart={onMouseDown}>\n                <div className={cm(CLASSES.FLEXLAYOUT__TABSET_HEADER_CONTENT)}>{headerContent}</div>\n                {headerToolbar}\n            </div>\n        );\n    }\n\n    const tabStripStyle: { [key: string]: string } = { height: node.getTabStripHeight() + \"px\" };\n    if (node.getTabLocation() === \"top\") {\n        const top = showHeader ? node.getHeaderHeight() + \"px\" : \"0px\";\n        tabStripStyle[\"top\"] = top;\n    } else {\n        tabStripStyle[\"bottom\"] = \"0px\";\n    }\n    tabStrip = (\n        <div className={tabStripClasses} style={tabStripStyle} onMouseDown={onMouseDown} onTouchStart={onMouseDown}>\n            <div ref={tabbarInnerRef} className={cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER) + \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_ + node.getTabLocation())}>\n                <div\n                    style={{ left: position }}\n                    className={cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER) + \" \" + cm(CLASSES.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_ + node.getTabLocation())}\n                >\n                    {tabs}\n                </div>\n            </div>\n            {toolbar}\n        </div>\n    );\n\n    style = layout.styleFont(style);\n\n    return (\n        <div ref={selfRef} style={style} className={cm(CLASSES.FLEXLAYOUT__TABSET)} onWheel={onMouseWheel}>\n            {header}\n            {tabStrip}\n        </div>\n    );\n};\n"],"mappings":"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","ignoreList":[]}